@using NMP.Portal.Resources
@using System.Globalization
@model NMP.Portal.ViewModels.ReportViewModel
@{
    ViewData["Title"] = Resource.lblLivestockManureNitrogenFarmLimit;
}

@section BeforeContent {
    <div class="noprint">
        <govuk-back-link asp-action="LivestockManureNitrogenReportChecklist" asp-controller="Report">@string.Format(Resource.lblBackToYourPlan, Model.Year)</govuk-back-link>
    </div>

}
@if (TempData["LivestockManureNitrogenFarmLimitReport"] != null)
{
    <govuk-error-summary>
        <govuk-error-summary-item href="#">@TempData["LivestockManureNitrogenFarmLimitReport"]</govuk-error-summary-item>
    </govuk-error-summary>
}
<div class="govuk-grid-row noprint">
    <div class="govuk-grid-column-two-thirds">
        <h2 class="govuk-heading-m">@Resource.lblHowtosaveyourplanasaPDF</h2>
        <ol class="govuk-list govuk-list--number">
            <li>@Html.Raw(Resource.lblPrint1)</li>
            <li>@Html.Raw(Resource.lblPrint2)</li>
            <li>@Html.Raw(Resource.lblPrint3)</li>
        </ol>
        <govuk-button id="cropReportPrintButton" type="button">
            @Resource.lblPrintOrSaveAsAPDF
        </govuk-button>
    </div>
</div>
<div class="govuk-grid-row noprint margin-bottom-thirty">
    <div class="govuk-grid-column-full">

        <hr>

    </div>
</div>
<div class="govuk-grid-row">
    <span class="name govuk-caption-l">@Model.Farm.Name</span>
    <div class="govuk-grid-column-full nmax_header">
        <h1 class="govuk-heading-xl">
            @string.Format(Resource.lblLivestockManureNitrogenFarmLimitForYear, Model.Year)
        </h1>
        <h2 class="govuk-heading-l">@(string.Format(Resource.lblHarvestYearValue, Model.Year))</h2>
        <p class="govuk-body">@string.Format(Resource.lblCreatedOnDate, Model.Farm.CreatedOn.Date.ToLocalTime().Date.ToString("dd MMMM yyyy", CultureInfo.GetCultureInfo("en-GB")))</p>

    </div>
</div>
<div class="govuk-grid-row margin-bottom-twenty">
    <div class="govuk-grid-column-one-third">
        <p class="govuk-body">
            @Model.Farm.Name, <br>
            @if (!string.IsNullOrWhiteSpace(Model.Farm.Address1))
            {
                @Model.Farm.Address1
                <br />
            }
            @if (!string.IsNullOrWhiteSpace(Model.Farm.Address2))
            {
                @Model.Farm.Address2
                <br />
            }
            @if (!string.IsNullOrWhiteSpace(Model.Farm.Address3))
            {
                @Model.Farm.Address3
                <br />
            }
            @Model.Farm.Postcode
        </p>
        <p class="govuk-body strong">
            @if (Model.IsGrasslandDerogation != null && Model.IsGrasslandDerogation.Value)
            {
                @string.Format(Resource.lblThisIsADerogatedFarm, Resource.lblDerogated)
            }
        </p>
    </div>
    <div class="govuk-grid-column-two-third">
        <p class="govuk-body strong">
            @if (Model.IsGrasslandDerogation != null && (!Model.IsGrasslandDerogation.Value))
            {
                @string.Format(Resource.lblThisIsADerogatedFarm, Resource.lblNotADerogated)
            }
        </p>
    </div>

</div>
<hr class="seperator_forty">
<div class="govuk-grid-row">
    <div class="govuk-grid-column-full margin-bottom-ten">
        <h2 class="govuk-heading-m">
            @Resource.lblComplianceWithNVZLivestockManureNitrogenFarmLimit
        </h2>
        <h3 class="govuk-heading-s">
            @if (Model.IsGrasslandDerogation != null && (Model.IsGrasslandDerogation.Value))
            {
                @Resource.lblTheInformationEnteredIndicatesCompliance
                <p class="govuk-body-s">
                    @string.Format(Resource.lblLivestockReportContentTwoForDerogation, "", "", "")
                </p>
            }
            else
            {
                @Resource.lblLivestockReportContentOne
                <p class="govuk-body-s">
                    @string.Format(Resource.lblLivestockContentTwoForNonDerogation, "", "")
                </p>
            }
        </h3>
        @if (Model.IsGrasslandDerogation != null && (!Model.IsGrasslandDerogation.Value))
        {
            <h3 class="govuk-heading-s">
                @Resource.lblKeyInformation
            </h3>
            <table class="data-table govuk-table">
                <tbody class="govuk-table__body">
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">@Resource.lblLivestockManureTotalNitrogenCapacity</td>
                        <td class="govuk-table__cell">217,750kg</td>
                    </tr>
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">@Resource.lblLivestockManureTotalNitrogenLoading</td>
                        <td class="govuk-table__cell">151,315kg</td>
                    </tr>
                    <tr class="govuk-table__row">
                        <td class="govuk-table__cell">@Resource.lblLivestockManureReportContentFour</td>
                        <td class="govuk-table__cell">66,435kg</td>
                    </tr>
                    <tr class="govuk-table__row">
                        @* <td class="govuk-table__cell">@Resource.lblLivestockManureReportContentFive</td> *@
                        <td class="govuk-table__cell">129kg per hectare</td>
                    </tr>
                </tbody>
            </table>
        }
    </div>
</div>

