@using NMP.Portal.ViewModels;
@using NMP.Portal.Resources;
@model NMP.Portal.ViewModels.PreviousCroppingViewModel

@{
    ViewData["Title"] = $"{Resource.lblAreYouSureYouWantToCancel} {Resource.lblHyphen} {Resource.lblAddPreviousCrop}";
    var cancelViewModel = new CancelViewModel
    {
        IsCancel = Model.IsCancel,
        LableContent = string.Format(Resource.lblTheInformationEnteredAboutThisWillBeLost, Resource.lblPreviousCrop.ToLower())
    };
}
@section BeforeContent {
    <govuk-back-link asp-action="CheckAnswer" asp-controller="PreviousCropping">@Resource.lblBack</govuk-back-link>

}

<form asp-controller="PreviousCropping" asp-action="Cancel" method="post" autocomplete="off">
    @Html.AntiForgeryToken()
    <div hidden="true">
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.CropTypeID" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.CropGroupID" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.CropTypeName" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.EncryptedFarmID" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.EncryptedFieldID" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.EncryptedYear" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.ID" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.HasGrassInLastThreeYear" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.HarvestYear" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.GrassManagementOptionID" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.HasGreaterThan30PercentClover" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.SoilNitrogenSupplyItemID" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.LayDuration" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.IsPreviousYearGrass" value="@Model.IsPreviousYearGrass.ToString().ToLower()" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.FieldID" />
        <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.IsHasGrassInLastThreeYearChange" value="@Model.IsHasGrassInLastThreeYearChange.ToString().ToLower()" />
        @if (Model != null)
        {
            @if (Model.PreviousGrassYears != null && Model.PreviousGrassYears.Count > 0)
            {
                @for (int i = 0; i < Model.PreviousGrassYears.Count; i++)
                {
                    <input class="govuk-visually-hidden" type="hidden" asp-for="@Model.PreviousGrassYears[i]" value="@Model.PreviousGrassYears[i]" />
                }
            }
        }
    </div>
    @await Html.PartialAsync("~/views/shared/_cancelconfirmation.cshtml", cancelViewModel)
    <govuk-button type="submit" class="margin-bottom-forty">
        @Resource.lblContinue
    </govuk-button>
</form>
<p class="govuk-body cancel-link">
    <a asp-action="CheckAnswer" asp-controller="PreviousCropping">@Resource.lblCancel</a>
</p>